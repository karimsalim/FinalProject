@model BackEndASP.ViewModel.EmployeeViewModel


@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>
@Html.ActionLink("Back to List", "Index", "Employees", new { id = ViewBag.idManager }, "")
<table class="table">
    @*<tr>
            <th>
                @Html.DisplayNameFor(model => model.FirstName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.LastName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DateOfBirth)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Street)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ZipCode)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.City)
            </th>
            <th></th>
        </tr>*@

    @foreach (var item in Model.ListClient)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.FirstName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.LastName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DateOfBirth)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Street)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ZipCode)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.City)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id = item.PersonId }) |

                @*ajouter un boutton pour afficher les comptes de clients*@
                @Html.ActionLink("Details", "Details", new { id = item.PersonId })
                |
                @Html.ActionLink("Delete", "Delete", new { id = item.PersonId }) |

                @*appeler le Acountscontroller dans la vue : Labl du contrôller, l'action, le nom de controller puis l'objet, une chaine de caractère *@

                @Html.ActionLink("Accounts", "Index", "Accounts", new { id = item.PersonId }, "")

            </td>

            @using (Html.BeginForm($"ChangeEmployee/{item.PersonId}/{Model.CurrentEmployee.PersonId}", "Clients", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                <td>
                    @Html.DropDownListFor(model => model.CurrentEmployee.PersonId, Model.ChangeEmployee)
                    @Html.ValidationMessageFor(model => model.ChangeEmployee, "", new { @class = "text-danger" })
                </td>
                <td>
                    <input type="submit" value="Change"btn btn-default" />
                </td>
            }
        </tr>
    }

</table>
